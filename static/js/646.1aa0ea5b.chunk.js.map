{"version":3,"file":"static/js/646.1aa0ea5b.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/MovieGallery/MovieGallery.module.css?7e83","webpack://react-homework-template/./src/MovieGallery/MovieItem/MovieItem.module.css?bb1c","MovieGallery/MovieItem/MovieItem.jsx","MovieGallery/MovieGallery.jsx","webpack://react-homework-template/./src/components/Section/Section.module.css?dbe8","components/Section/Section.jsx","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","webpack://react-homework-template/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/MoviesPage.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"gallery\":\"MovieGallery_gallery__HqImj\"};","// extracted by mini-css-extract-plugin\nexport default {\"gallery__item\":\"MovieItem_gallery__item__kvf7-\",\"gallery__image\":\"MovieItem_gallery__image__yEhIF\",\"gallery__largeImage\":\"MovieItem_gallery__largeImage__aAz06\",\"gallery__itemWrapper\":\"MovieItem_gallery__itemWrapper__sgyf9\",\"link\":\"MovieItem_link__UsxDW\",\"title\":\"MovieItem_title__NWfbf\"};","import PropTypes from 'prop-types';\nimport s from './MovieItem.module.css';\nimport { POSTER_IMG_URL } from '../../services/api';\nimport { Link, useLocation } from 'react-router-dom';\nimport noImage from '../../assets/images/notFound.jpg';\n\nfunction ImageGalleryItem({ id, title, poster_path }) {\n  const location = useLocation();\n  return (\n    <li className={s.gallery__item}>\n      <Link className={s.link} to={`/movies/${id}`} state={{from: location}}>\n        <div className={s.gallery__itemWrapper}>\n          <img\n            className={s.gallery__image}\n            src={poster_path ?`${POSTER_IMG_URL}/${poster_path}`: noImage}\n            alt={title}\n          />\n          <p className={s.title}>{title}</p>\n        </div>\n      </Link>\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string,\n  poster_path: PropTypes.string,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport s from './MovieGallery.module.css';\nimport MovieItem from './MovieItem';\n\nfunction MovieGallery({ items }) {\n  return (\n    <ul className={s.gallery}>\n      {items.map(({ id, title, poster_path }) => (\n        <MovieItem\n          key={id}\n          id = {id}\n          title={title}\n          poster_path={poster_path}\n        />\n      ))}\n    </ul>\n  );\n}\n\nMovieGallery.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string,\n      poster_path: PropTypes.string,\n\n    })\n  ),\n};\n\nexport default MovieGallery;\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Section_section__Z2PLw\"};","import React from 'react'\nimport PropTypes from 'prop-types'\nimport s from './Section.module.css';\n\nfunction Section({children, title}) {\n  return (\n    <section className={s.section}>\n      {title && <h2>{title}</h2>}\n      {children}\n    </section>\n  )\n}\n\nSection.propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.node,\n\n}\n\nexport default Section;\n","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"Searchbar_searchbar__0FWoU\",\"searchForm\":\"Searchbar_searchForm__Bt5yh\",\"searchForm__button\":\"Searchbar_searchForm__button__4N-hW\",\"searchForm__label\":\"Searchbar_searchForm__label__B+Lup\",\"searchForm__input\":\"Searchbar_searchForm__input__tUL2B\"};","import { useState } from 'react';\nimport { FaSistrix } from 'react-icons/fa';\nimport { useSearchParams } from 'react-router-dom';\nimport s from './Searchbar.module.css';\n\nfunction Searchbar() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [query, setQuery] = useState(searchParams.get('query') ?? '');\n\n  const handleChangeInput = event => {\n    const { value } = event.target;\n    setQuery(value);\n  };\n\n  const handleSubmitForm = event => {\n    event.preventDefault();\n    if (query.trim()) {\n      setSearchParams({ query });\n    }\n  };\n\n  return (\n    <header className={s.searchbar}>\n      <form className={s.searchForm} onSubmit={handleSubmitForm}>\n        <FaSistrix\n          style={{\n            fill: 'black',\n            cursor: 'pointer',\n            padding: '2px',\n            width: '30px',\n          }}\n          onClick={handleSubmitForm}\n        />\n\n        <input\n          className={s.searchForm__input}\n          value={query}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search film by name\"\n          onChange={handleChangeInput}\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default Searchbar;\n","// extracted by mini-css-extract-plugin\nexport default {\"notFound\":\"MoviesPage_notFound__gDP3U\"};","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport Container from 'components/Container';\nimport Section from '../../components/Section';\nimport Searchbar from 'components/Searchbar';\nimport { getFilmsByName } from '../../services/api';\nimport MovieGallery from 'MovieGallery';\nimport s from './MoviesPage.module.css';\n\nimport { toast } from 'react-toastify';\n\nfunction MoviesPage(props) {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [films, setfilms] = useState([]);\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (query) {\n      getFilmsByName(query)\n        .then(resp => {\n          if (resp.results.length === 0) {\n            console.log(resp);\n            setSearchParams({});\n            toast.error(\n              'Sorry, the are no films by your search. Please try to search another movie'\n            );\n          }\n          setfilms(resp.results);\n        })\n        .catch(error => toast.error(`${error.message}`));\n    }\n  }, [query, setSearchParams]);\n\n  return (\n    <main>\n      <Section>\n        <Container>\n          <Searchbar />\n          {films.length ? (\n            <MovieGallery items={films} />\n          ) : (\n            <div className={s.notFound}>There are no films </div>\n          )}\n        </Container>\n      </Section>\n    </main>\n  );\n}\n\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'a4a0d478f5a66be1befa7af60710d15f';\nexport const POSTER_IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nexport const getTrendingFilms = async () => {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}trending/movie/day?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error('Something went wrong' + error);\n  }\n};\n\nexport const getFilmsByName = async filmName => {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}search/movie?api_key=${API_KEY}&query=${filmName}`\n    );\n    return data;\n  } catch (error) {\n    console.error('Something went wrong' + error);\n  }\n};\n\nexport const getFilmsByID = async filmId => {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}/movie/${filmId}?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error('Something went wrong' + error);\n  }\n};\n\nexport const getGenres = async () => {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}genre/movie/list?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error('Something went wrong' + error);\n  }\n};\n\nexport const getGenresName = genres => {\n  if (!genres) {\n    return '';\n  }\n  let genresNames = genres.map(({ name }) => name);\n  return genresNames.join(', ');\n};\n\nexport const getCastOfFilm = async filmId => {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}movie/${filmId}/credits?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error('Something went wrong' + error);\n  }\n};\n\nexport const getReviewsOfFilm = async filmId => {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}movie/${filmId}/reviews?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error('Something went wrong' + error);\n  }\n};\n"],"names":["id","title","poster_path","location","useLocation","className","s","to","state","from","src","POSTER_IMG_URL","noImage","alt","items","map","MovieItem","children","useSearchParams","searchParams","setSearchParams","useState","get","query","setQuery","handleSubmitForm","event","preventDefault","trim","onSubmit","style","fill","cursor","padding","width","onClick","value","type","autoComplete","autoFocus","placeholder","onChange","target","props","films","setfilms","useEffect","getFilmsByName","then","resp","results","length","console","log","toast","catch","error","message","Section","Container","MovieGallery","BASE_URL","API_KEY","getTrendingFilms","axios","data","filmName","getFilmsByID","filmId","getGenresName","genres","name","join","getCastOfFilm","getReviewsOfFilm"],"sourceRoot":""}