"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[646],{3740:function(e,t,r){r.d(t,{Z:function(){return v}});var n="MovieGallery_gallery__HqImj",a="MovieItem_gallery__item__kvf7-",c="MovieItem_gallery__image__yEhIF",o="MovieItem_gallery__itemWrapper__sgyf9",i="MovieItem_link__UsxDW",u="MovieItem_title__NWfbf",s=r(4390),l=r(6731),p=r(7689),f=r(2094),h=r(184);var m=function(e){var t=e.id,r=e.title,n=e.poster_path,m=(0,p.TH)();return(0,h.jsx)("li",{className:a,children:(0,h.jsx)(l.rU,{className:i,to:"/movies/".concat(t),state:{from:m},children:(0,h.jsxs)("div",{className:o,children:[(0,h.jsx)("img",{className:c,src:n?"".concat(s.Xg,"/").concat(n):f,alt:r}),(0,h.jsx)("p",{className:u,children:r})]})})})};var v=function(e){var t=e.items;return(0,h.jsx)("ul",{className:n,children:t.map((function(e){var t=e.id,r=e.title,n=e.poster_path;return(0,h.jsx)(m,{id:t,title:r,poster_path:n},t)}))})}},3418:function(e,t,r){r.d(t,{Z:function(){return c}});r(2791);var n="Section_section__Z2PLw",a=r(184);var c=function(e){var t=e.children,r=e.title;return(0,a.jsxs)("section",{className:n,children:[r&&(0,a.jsx)("h2",{children:r}),t]})}},9646:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var n=r(885),a=r(2791),c=r(6731),o=r(3087),i=r(3418),u=r(9135),s="Searchbar_searchbar__0FWoU",l="Searchbar_searchForm__Bt5yh",p="Searchbar_searchForm__input__tUL2B",f=r(184);var h=function(){var e,t=(0,c.lr)(),r=(0,n.Z)(t,2),o=r[0],i=r[1],h=(0,a.useState)(null!==(e=o.get("query"))&&void 0!==e?e:""),m=(0,n.Z)(h,2),v=m[0],_=m[1],d=function(e){e.preventDefault(),v.trim()&&i({query:v})};return(0,f.jsx)("header",{className:s,children:(0,f.jsxs)("form",{className:l,onSubmit:d,children:[(0,f.jsx)(u.Ozl,{style:{fill:"black",cursor:"pointer",padding:"2px",width:"30px"},onClick:d}),(0,f.jsx)("input",{className:p,value:v,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search film by name",onChange:function(e){var t=e.target.value;_(t)}})]})})},m=r(4390),v=r(3740),_="MoviesPage_notFound__gDP3U",d=r(7596);var g=function(e){var t,r=(0,c.lr)(),u=(0,n.Z)(r,2),s=u[0],l=u[1],p=(0,a.useState)([]),g=(0,n.Z)(p,2),x=g[0],y=g[1],w=null!==(t=s.get("query"))&&void 0!==t?t:"";return(0,a.useEffect)((function(){w&&(0,m.EB)(w).then((function(e){0===e.results.length&&(console.log(e),l({}),d.Am.error("Sorry, the are no films by your search. Please try to search another movie")),y(e.results)})).catch((function(e){return d.Am.error("".concat(e.message))}))}),[w,l]),(0,f.jsx)("main",{children:(0,f.jsx)(i.Z,{children:(0,f.jsxs)(o.Z,{children:[(0,f.jsx)(h,{}),x.length?(0,f.jsx)(v.Z,{items:x}):(0,f.jsx)("div",{className:_,children:"There are no films "})]})})})}},4390:function(e,t,r){r.d(t,{Ar:function(){return m},EB:function(){return f},JS:function(){return p},Xg:function(){return l},Y1:function(){return v},ik:function(){return _},im:function(){return h}});var n=r(5861),a=r(7757),c=r.n(a),o=r(4569),i=r.n(o),u="https://api.themoviedb.org/3/",s="a4a0d478f5a66be1befa7af60710d15f",l="https://image.tmdb.org/t/p/w500",p=function(){var e=(0,n.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(u,"trending/movie/day?api_key=").concat(s));case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.error("Something went wrong"+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(u,"search/movie?api_key=").concat(s,"&query=").concat(t));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("Something went wrong"+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(u,"/movie/").concat(t,"?api_key=").concat(s));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("Something went wrong"+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),m=function(e){return e?e.map((function(e){return e.name})).join(", "):""},v=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(u,"movie/").concat(t,"/credits?api_key=").concat(s));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("Something went wrong"+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(u,"movie/").concat(t,"/reviews?api_key=").concat(s));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("Something went wrong"+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},2094:function(e,t,r){e.exports=r.p+"static/media/notFound.040c56a83268269e8cdf.jpg"}}]);
//# sourceMappingURL=646.1aa0ea5b.chunk.js.map