"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[157],{3740:function(e,r,t){t.d(r,{Z:function(){return m}});var n="MovieGallery_gallery__HqImj",a="MovieItem_gallery__item__kvf7-",c="MovieItem_gallery__image__yEhIF",o="MovieItem_gallery__itemWrapper__sgyf9",i="MovieItem_link__UsxDW",u="MovieItem_title__NWfbf",s=t(4390),l=t(6731),p=t(7689),f=t(184);var h=function(e){var r=e.link,t=e.title,n=e.poster_path,h=(0,p.TH)();return(0,f.jsx)("li",{className:a,children:(0,f.jsx)(l.rU,{className:i,to:"/movies/".concat(r),state:{from:h},children:(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)("img",{className:c,src:"".concat(s.Xg,"/").concat(n),alt:t}),(0,f.jsx)("p",{className:u,children:t})]})})})};var m=function(e){var r=e.items;return(0,f.jsx)("ul",{className:n,children:r.map((function(e){var r=e.id,t=e.title,n=e.poster_path;return(0,f.jsx)(h,{link:r,title:t,poster_path:n},r)}))})}},3418:function(e,r,t){t.d(r,{Z:function(){return c}});t(2791);var n="Section_section__Z2PLw",a=t(184);var c=function(e){var r=e.children,t=e.title;return(0,a.jsxs)("section",{className:n,children:[t&&(0,a.jsx)("h2",{children:t}),r]})}},7157:function(e,r,t){t.r(r),t.d(r,{default:function(){return d}});var n=t(885),a=t(2791),c=t(6731),o=t(3087),i=t(3418),u=t(9135),s="Searchbar_searchbar__0FWoU",l="Searchbar_searchForm__Bt5yh",p="Searchbar_searchForm__input__tUL2B",f=t(184);var h=function(){var e,r=(0,c.lr)(),t=(0,n.Z)(r,2),o=t[0],i=t[1],h=(0,a.useState)(null!==(e=o.get("query"))&&void 0!==e?e:""),m=(0,n.Z)(h,2),v=m[0],_=m[1],d=function(e){e.preventDefault(),v.trim()&&i({query:v})};return(0,f.jsx)("header",{className:s,children:(0,f.jsxs)("form",{className:l,onSubmit:d,children:[(0,f.jsx)(u.Ozl,{style:{fill:"black",cursor:"pointer",padding:"2px",width:"30px"},onClick:d}),(0,f.jsx)("input",{className:p,value:v,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search film by name",onChange:function(e){var r=e.target.value;_(r)}})]})})},m=t(4390),v=t(3740),_=t(7596);var d=function(e){var r,t=(0,c.lr)(),u=(0,n.Z)(t,2),s=u[0],l=u[1],p=(0,a.useState)([]),d=(0,n.Z)(p,2),g=d[0],x=d[1],y=null!==(r=s.get("query"))&&void 0!==r?r:"";return(0,a.useEffect)((function(){y&&(0,m.EB)(y).then((function(e){0===e.results.length&&(console.log(e),l({}),_.Am.error("Sorry, the are no films by your search. Please try to search another movie")),x(e.results)})).catch((function(e){return _.Am.error("".concat(e.message))}))}),[y,l]),(0,f.jsx)("main",{children:(0,f.jsx)(i.Z,{children:(0,f.jsxs)(o.Z,{children:[(0,f.jsx)(h,{}),g.length?(0,f.jsx)(v.Z,{items:g}):(0,f.jsx)("div",{children:"There are no films "})]})})})}},4390:function(e,r,t){t.d(r,{Ar:function(){return m},EB:function(){return f},JS:function(){return p},Xg:function(){return l},Y1:function(){return v},ik:function(){return _},im:function(){return h}});var n=t(5861),a=t(7757),c=t.n(a),o=t(4569),i=t.n(o),u="https://api.themoviedb.org/3/",s="a4a0d478f5a66be1befa7af60710d15f",l="https://image.tmdb.org/t/p/w500",p=function(){var e=(0,n.Z)(c().mark((function e(){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(u,"trending/movie/day?api_key=").concat(s));case 3:return r=e.sent,t=r.data,e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),console.error("Something went wrong"+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(u,"search/movie?api_key=").concat(s,"&query=").concat(r));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("Something went wrong"+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(u,"/movie/").concat(r,"?api_key=").concat(s));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("Something went wrong"+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),m=function(e){return e?e.map((function(e){return e.name})).join(", "):""},v=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(u,"movie/").concat(r,"/credits?api_key=").concat(s));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("Something went wrong"+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),_=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("".concat(u,"movie/").concat(r,"/reviews?api_key=").concat(s));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("Something went wrong"+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=157.66ee8b3b.chunk.js.map